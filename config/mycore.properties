#-- =================================================================== 
#-- MyCoRe sample application properties file        
#-- $Revision$ $Date$   
#-- ===================================================================
#
# The MyCoRe properties GENERAL file for the DocPortal application
#
# This file contain all which you must not change to run DocPortal in the
# default mode. It is the base file of each MyCoRe application configuration.
# All simple user dependend variables ar in the file mycore.properties.private.
# For handling with CVS we named this as mycore.properties.private.template.
# To use this you must rename it and put in the config directory. Also we use 
# the build.properties file from the MyCoRe core too.

##############################################################################
# General entries for the configuration
##############################################################################

# The class for the configuration
# MCR.Configuration.Class=org.mycore.common.MCRConfiguration

# The main file for configuration entries, default is mycore.properties
# MCR.Configuration.File=mycore.properties

##############################################################################
# The XML parser configuration
##############################################################################

# The name of the Java class of the XML parser
  MCR.XMLParser.Class=org.mycore.common.xml.MCRParserXerces

# The switch for the XML Schema validation (turn on='true' or off='false')
  MCR.XMLParser.ValidateSchema=true
# MCR.XMLParser.ValidateSchema=false

##############################################################################
# The MCRURIResolver configuration
##############################################################################

# External extentions of MCRURIResolver
# MCR.URIResolver.ExternalResolver.Class=
 
# Definitions for static file cache
# MCR.URIResolver.StaticFiles.CacheSize=100

# Definitions for classifications cache
# MCR.URIResolver.Classification.CacheSize=100

# Format definitions for resolving classifications 
  MCR.URIResolver.Classification.Format.TextCounter={text} [{count}]
  MCR.URIResolver.Classification.Format.IDText={id} {text}
  
# Sortable flag for Classification with ID {MCRObjectID}
# MCR.URIResolver.Classification.Sort.{MCRObjectID}=true

##############################################################################
# Classes for the commandline interface
##############################################################################

# All commands from the kernel of MyCoRe
  MCR.CLI.Classes.Internal=org.mycore.frontend.cli.MCRUserCommands,org.mycore.frontend.cli.MCRClassification2Commands,org.mycore.frontend.cli.MCRObjectCommands,org.mycore.frontend.cli.MCRAccessCommands,org.mycore.frontend.cli.MCRDerivateCommands,org.mycore.backend.hibernate.MCRHIBCtrlCommands,org.mycore.services.fieldquery.MCRQueryCommands,org.mycore.frontend.indexbrowser.MCRGoogleSitemapCommands,org.mycore.frontend.cli.MCRSearcherCommands
  MCR.CLI.Classes.External=

##############################################################################
# The MCRLayoutService configuration
##############################################################################

# The format of the session ID
# MCR.Session.Param=;jsessionid=

#If HttpRequest CharaceterEncoding is undefined
# MCR.Request.CharEncoding=ISO-8859-1
  MCR.Request.CharEncoding=UTF-8

##############################################################################
# MCRUploadApplet 
##############################################################################

# Define the background color of the upload applet
MCR.UploadApplet.BackgroundColor=#CAD9E0

##############################################################################
# Add default rules to every new derivate an object ? 
##############################################################################

MCR.Access.AddDerivateDefaultRule=true
MCR.Access.AddObjectDefaultRule=true

##############################################################################
# The MCREventHandler configurations
##############################################################################

# Define the ACL handler for classifications (ACL rules in each file will be used)
  MCR.EventHandler.MCRClassification.1.Class=org.mycore.access.MCRAccessEventHandler
# Define the ACL handler for classifications (ACL rules in each file will be ignored)
# MCR.EventHandler.MCRClassification.1.Class=org.mycore.access.MCRRemoveAclEventHandler
# Define XML store handler
#  MCR.EventHandler.MCRClassification.2.Class=org.mycore.datamodel.common.MCRXMLTableEventHandler
# Define the ACL handler for objects (ACL rules in each file will be used)
  MCR.EventHandler.MCRObject.1.Class=org.mycore.access.MCRAccessEventHandler
# Define the ACL handler for objects (ACL rules in each file will be ignored)
# MCR.EventHandler.MCRObject.1.Class=org.mycore.access.MCRRemoveAclEventHandler
# Define XML store handler
  MCR.EventHandler.MCRObject.2.Class=org.mycore.datamodel.common.MCRXMLTableEventHandler
# Define Link Table handler
  MCR.EventHandler.MCRObject.3.Class=org.mycore.datamodel.common.MCRLinkTableEventHandler
# MCR.EventHandler.MCRObject.4.Class is defined below (new query indexing with JDOM/Lucene/Hibernate)
# clears indexbrowser caches
  MCR.EventHandler.MCRObject.5.Class=org.mycore.frontend.indexbrowser.MCRIndexBrowserEventHandler

# Define the ACL handler for derivates (ACL rules in each file will be used)
  MCR.EventHandler.MCRDerivate.1.Class=org.mycore.access.MCRAccessEventHandler
# Define the ACL handler for derivates (ACL rules in each file will be ignored)
# MCR.EventHandler.MCRDerivate.1.Class=org.mycore.access.MCRRemoveAclEventHandler
# Define XML store handler
  MCR.EventHandler.MCRDerivate.2.Class=org.mycore.datamodel.common.MCRXMLTableEventHandler
# MCR.EventHandler.MCRDerivate.3.Class is defined in the searcher definition

# MCR.EventHandler.MCRFile.1.Class is defined below (new query indexing with JDOM/Lucene/Hibernate)

##############################################################################
# The query implementation using JDOM - use only for metadata search
##############################################################################

# MCR.EventHandler.MCRObject.4.Indexer=jdom-metadata

# MCR.Searcher.jdom-metadata.Index=metadata
# MCR.Searcher.jdom-metadata.Class=org.mycore.backend.jdom.MCRJDOMSearcher

##############################################################################
# The query implementation using Lucene - use for metadata and/or content
##############################################################################

  MCR.EventHandler.MCRDerivate.3.Class=org.mycore.datamodel.ifs.MCRContentIndexEventHandler
  MCR.EventHandler.MCRObject.4.Indexer=lucene-metadata
  MCR.EventHandler.MCRFile.1.Indexer=lucene-content

  MCR.Searcher.lucene-metadata.Index=metadata
  MCR.Searcher.lucene-metadata.Class=org.mycore.backend.lucene.MCRLuceneSearcher

  MCR.Searcher.lucene-content.Index=content
  MCR.Searcher.lucene-content.Class=org.mycore.backend.lucene.MCRLuceneSearcher

##############################################################################
# Configure ACL Checking                                                     #
##############################################################################

# The class definition for using ACL 
# MCR.Access.Class=org.mycore.access.MCRAccessBaseImpl
  MCR.Access.Class=org.mycore.access.mcrimpl.MCRAccessControlSystem

# Access Control message pages
  MCR.Access.Page.Error=error_access.xml
  
# Option 1
# Default, sets ACL rules after servacl section in metadata xml
# Use the org.mycore.access.MCRAccessEventHandler
  MCR.Access.Strategy.Class=org.mycore.access.strategies.MCRObjectIDStrategy

# Option 2
# You can set the ACL per object (servacl rule is ignored),
# fallback to ACL per object type or finally to rule "default"
# Use the org.mycore.access.MCRRemoveAclEventHandler
#  MCR.Access.Strategy.Class=org.mycore.access.strategies.MCRObjectTypeStrategy

# Option 3
# You can set the ACL per object (servacl rule is ignored),
# fallback to ACL of parent object (and so on)
# Use the org.mycore.access.MCRRemoveAclEventHandler
#  MCR.Access.Strategy.Class=org.mycore.access.strategies.MCRParentRuleStrategy

# The permissions read, writedb, deletedb are required in the kernel
MCR.Access.AccessPermissions=read,writewf,deletewf,writedb,deletedb
MCR.Access.StorePermissions=read,writedb,deletedb
MCR.Access.AddUserPermissions=read,writewf,deletewf,writedb,deletedb

# The definition of default access rules for the MCRAccessEventHandler
# MCR.Access.Rule.STANDARD-READ-RULE=<condition format=\"xml\"><boolean operator=\"true\" /></condition>
# MCR.Access.Rule.STANDARD-EDIT-RULE=<condition format=\"xml\"><boolean operator=\"true\" /></condition>

##############################################################################
# Persitence definitions
##############################################################################

# additional hibernate-mapping-files
  MCR.Persistence.Hibernate.HBM.XML.MCRRESUMPTIONTOKEN=MCRRESUMPTIONTOKEN.hbm.xml

# This is the default. It use the Hibernate class for XML
  MCR.Persistence.XML.Store.Class=org.mycore.backend.hibernate.MCRHIBXMLStore
# XML store SQL table name
  MCR.Persistence.XML.Store.Table=MCRXMLTABLE
# The internal Blob representation (only for native SQL)
# MCR.Persistence.XML.Store.Blob=BLOB
# The cache size of the XML table manager
  MCR.Persistence.XML.Store.CacheSize=100

# This is the default. It use the Hibernate class for classifications
  MCR.Persistence.Classification.Store.Class=org.mycore.backend.hibernate.MCRHIBClassificationStore
# Classification store SQL table names
  MCR.Persistence.Classification.Store.Table.Class=MCRCLASS
  MCR.Persistence.Classification.Store.Table.ClassLabel=MCRCLASSLAB
  MCR.Persistence.Classification.Store.Table.Categ=MCRCATEG
  MCR.Persistence.Classification.Store.Table.CategLabel=MCRCATEGLAB
# The cache size of the classification table manager
  MCR.Persistence.Classification.Store.CacheSize.Class=20
  MCR.Persistence.Classification.Store.CacheSize.Categ=500
  
# This is the default. It use the Hibernate class for link table store
  MCR.Persistence.LinkTable.Store.Class=org.mycore.backend.hibernate.MCRHIBLinkTableStore
# LinkTable store for links SQL table name
  MCR.Persistence.LinkTable.Store.Table=MCRLINKHREF

# This is the default. It use the Hibernate class for user store
  MCR.Persistence.User.Store.Class=org.mycore.backend.hibernate.MCRHIBUserStore
# User store SQL table names
  MCR.Persistence.User.Store.Table.Users=MCRUSERS
  MCR.Persistence.User.Store.Table.Groups=MCRGROUPS
  MCR.Persistence.User.Store.Table.GroupMembers=MCRGROUPMEMBERS
  MCR.Persistence.User.Store.Table.GroupAdmins=MCRGROUPADMINS

# This is the default. It use the Hibernate class for IFS
  MCR.Persistence.IFS.FileMetadataStore.Class=org.mycore.backend.hibernate.MCRHIBFileMetadataStore
# Internal FileSystem SQL table name
  MCR.Persistence.IFS.FileMetadataStore.Table=MCRFSNODES

# This is the default. It use the Hibernate class for URN
  MCR.Persistence.URN.Store.Class=org.mycore.backend.hibernate.MCRHIBURNStore
# URN SQL table name
  MCR.Persistence.URN.Store.Table=MCRURN
    
# This is the default. It use the Hibernate class for AccessControll
  MCR.Persistence.Access.Store.Class=org.mycore.backend.hibernate.MCRHIBAccessStore
  MCR.Persistence.Rule.Store_Class=org.mycore.backend.hibernate.MCRHIBRuleStore
# Access control SQL table names
  MCR.Persistence.Access.Store.Table.Rule=MCRACCESSRULE
  MCR.Persistence.Access.Store.Table.Map=MCRACCESS
  
# Content Store table
  MCR.Persistence.Content.Store.Table=MCRCSTORE

##############################################################################
# Metadata configurations
##############################################################################

# The default language of all metadata
  MCR.Metadata.DefaultLang=de
# MCR.Metadata.DefaultLang=en

# The default encoding for the data
# MCR.Metadata.DefaultEncoding=ISO-8859-1
  MCR.Metadata.DefaultEncoding=UTF-8
  
# Overwrite the default rule for text normalization
# MCR.Metadata.Normalize.SetRule=
# Add items to the default rule for text normalization
# MCR.Metadata.Normalize.AddRule=
# Convert letters with diacritics to there corresponding letter
# ATTENTION: if you activate/deactivate this property, you must replace
# the search index
# MCR.Metadata.Normalize.DiacriticRule=true  
# Use following rules first
# \u00DF>ss \u00E4>ae \u00C4>ae \u00F6>oe \u00D6>oe \u00FC>ue \u00DC>ue
# MCR.Metadata.Normalize.UseRuleFirst=true
  
# Extend the XML file with data from the parent file
  MCR.Metadata.HeritedForXML=true
  
# Set the condition for reading date values 
# MCR.Metadata.SimpleDateFormat.StrictParsing=true
  MCR.Metadata.SimpleDateFormat.StrictParsing=false
  MCR.Metadata.SimpleDateFormat.Locales=de_DE
# MCR.Metadata.SimpleDateFormat.Locales=en_UK
# MCR.Metadata.SimpleDateFormat.Locales=en_US

# The pattern and distance for the number part of the MCRObjectID
  MCR.Metadata.ObjectID.NumberDistance=1
  MCR.Metadata.ObjectID.NumberPattern=00000000

# Add the data model for classifications
  MCR.Metadata.Type.class=true

# Add the data model for derivates
  MCR.Metadata.Type.derivate=true
  
##############################################################################
# Internal Filesystem configuration
##############################################################################

# File content type detection implementation and config file name:
  MCR.IFS.FileContentTypes.DetectorClass=org.mycore.datamodel.ifs.MCRSimpleFCTDetector
  MCR.IFS.FileContentTypes.DefinitionFile=FileContentTypes.xml

# File content store selection implementation and config file name:
  MCR.IFS.ContentStoreSelector.Class=org.mycore.datamodel.ifs.MCRSimpleContentStoreSelector
  MCR.IFS.ContentStoreSelector.ConfigFile=ContentStoreSelectionRules.xml

# File metadata cache size, default is 500 files and directories
  MCR.IFS.FileMetadataStore.CacheSize=500

# Sample file content store with ID = FS, uses local filesystem
  MCR.IFS.ContentStore.FS.Class=org.mycore.backend.filesystem.MCRCStoreVFS
  
# Sample file content store with ID = SQLDB, uses local DB
  MCR.IFS.ContentStore.SQLDB.Class=org.mycore.backend.hibernate.MCRHIBCStore

##############################################################################
# Internal Filesystem SQL with Hibernate                                     #
##############################################################################

# Sample file content store with ID = SQLDB, uses sql database
# MCR.IFS.ContentStore.SQLDB.Class=org.mycore.backend.hibernate.MCRHIBCStore

##############################################################################
# The configuration for the workflow
##############################################################################

# Editor workflow message pages
  MCR.SWF.PageDir=
  MCR.SWF.PageCancel=editor_cancel.xml
  MCR.SWF.PageDelete=editor_deleted.xml
  MCR.SWF.PageErrorStore=editor_error_store.xml
  MCR.SWF.PageErrorUser=editor_error_user.xml
  MCR.SWF.PageErrorMcrid=editor_error_mcrid.xml
  MCR.SWF.PageErrorDelete=editor_error_delete.xml
  MCR.SWF.PageErrorFormular=editor_error_formular.xml

##############################################################################
# The configuration for write protection of website
##############################################################################

  MCR.WriteProtectionWebsite.ErrorPage=website-ReadOnly.xml


##############################################################################
# Plugins for text index                                                     #
##############################################################################

# Classes for TextFilterPluginManager to convert files to text for indexing with lucene 
  MCR.TextFilterPlugin.1.class=org.mycore.services.plugins.MSWordPlugin
  MCR.TextFilterPlugin.2.class=org.mycore.services.plugins.OpenDocumentTextPlugin
  MCR.TextFilterPlugin.3.class=org.mycore.services.plugins.OoTextPlugin
  MCR.TextFilterPlugin.4.class=org.mycore.services.plugins.PdfPlugin
  MCR.TextFilterPlugin.5.class=org.mycore.services.plugins.PlainTextPlugin
  MCR.TextFilterPlugin.6.class=org.mycore.services.plugins.PostScriptPlugin
  MCR.TextFilterPlugin.7.class=org.mycore.services.plugins.XmlHtmlPlugin

##############################################################################
# Classifcation Part 
##############################################################################

# General configurations
  MCR.classifications_search_sequence=remote-local
  
##############################################################################
# Configuration for the zip tool
##############################################################################

# The name of the stylesheet, for the metadata-transformation
  MCR.zip.metadata.transformer=MyCoReZip2dc.xsl

##############################################################################
# MyCoRe Editor Framework
##############################################################################

# List of document types that are static webpages with including editor definition
  MCR.EditorFramework.DocTypes=MyCoReWebPage 

# Maximum number of editors and form data kept in current user session  
  MCR.EditorFramework.MaxEditorsInSession=10

##############################################################################
# Config for Module z3950 (Z39.50 with modified jzkit from FU Berlin)
##############################################################################

# implementation of the Z3950 query interface
  MCR.z3950.queryservice=org.mycore.services.z3950.MCRZ3950QueryService

# To understand what attribute in this context means visit
#    https://eldorado.uni-dortmund.de/dspace/bitstream/2003/2179/1/v_herget.htm
# 
# we support only a subset, that means that the resultset may be larger than with the full support of
# all values of attributes
# Attribute of type 1 ('use' attribute in attribut set bib-1 of z39.50 maps name of searchfield in MyCoRe
  MCR.z3950.1=AccessPoint
  MCR.z3950.1.1=author
  MCR.z3950.1.4=title
  MCR.z3950.1.1003=creator
  MCR.z3950.1.52=id
  MCR.z3950.1.1016=content


# Attribute of type 2 ('relation' attribute maps in combination with to operator)  
  MCR.z3950.2=Relation
  MCR.z3950.2.1=<
  MCR.z3950.2.2=<=
  MCR.z3950.2.3==
  MCR.z3950.2.4=>=
  MCR.z3950.2.5=>

# Attribute of type 3 (do not use 'position' attribute, we support any position)  
  MCR.z3950.3=Position

# Attribute of type 4 ('structure' attribute we support phrase, if not used word/wordlist is used)  
  MCR.z3950.4=Structure
  MCR.z3950.4.1=phrase

# Attribute of type 5 ('trucation' attribute, if notr used no truncation is done)
# right, left, left and right 
  MCR.z3950.5=Truncation
  MCR.z3950.5.1=1
  MCR.z3950.5.2=2
  MCR.z3950.5.3=3

# Attribute of type 6 (do not use 'completeness' attribute, we support incomplete subfield)
  MCR.z3950.6=Completeness

##############################################################################
# Logging System: MyCoRe uses Apache Log4J                                   #
# See http://logging.apache.org/log4j/ how to configure logging in detail    #
##############################################################################

# define the stdout appender
  log4j.appender.stdout=org.apache.log4j.ConsoleAppender
  log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
  log4j.appender.stdout.layout.ConversionPattern=%-5p %m%n

# define the stdlog appender
  log4j.appender.stdlog=org.apache.log4j.ConsoleAppender
  log4j.appender.stdlog.layout=org.apache.log4j.PatternLayout
  log4j.appender.stdlog.layout.ConversionPattern=%d [%t] %-5p (%F:%L) - %m%n

# define the flog appender
  log4j.appender.flog=org.apache.log4j.ConsoleAppender
  log4j.appender.flog.layout=org.apache.log4j.PatternLayout
  log4j.appender.flog.layout.ConversionPattern=%d{ABSOLUTE} [%15.15t] %-5p %30.30c - %m%n

# define the R appender
  log4j.appender.R=org.apache.log4j.RollingFileAppender
  log4j.appender.R.File=/var/log/mycore-sample-application.log
  log4j.appender.R.MaxFileSize=100KB
  log4j.appender.R.MaxBackupIndex=2
  log4j.appender.R.layout=org.apache.log4j.PatternLayout
  log4j.appender.R.layout.ConversionPattern=%d [%t] %-5p (%F:%L) - %m%n

##############################################################################


<document xmlns="http://maven.apache.org/changes/1.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/changes/1.0.0 http://maven.apache.org/xsd/changes-1.0.0.xsd">
  <properties>
    <title>MyCoRe Changes Report</title>
    <author email="thomas.scheffler(at)uni-jena.de">Thomas Scheffler</author>
  </properties>
  <body>
    <release version="2013.05" date="2013-05-XX" description="Beta 2">
      <action dev="mcrtchef" type="fix" due-to="Silvio Hermann">
        The login page should be accessible only through https
        <fixes issue="608" />
      </action>
      <action dev="mcrtchef" type="fix">
        WCMS: Assigning read and write permissions does not work
        <fixes issue="628"/>
        <fixes issue="617"/>
      </action>
      <action dev="mcrtchef" type="update">
        MCRSearchServlet parameter numPerPage defaults to "10" (was "0")
      </action>
      <action dev="mcrjkupf" type="add">
        add I18N support to mycore-user2
      </action>
      <action dev="mcrjkupf" type="remove">
        removed applet from mycore-mets and removed mycore-zoomify component
      </action>
      <action dev="mcrsherm" type="fix">
        Mets Editor does not support files with blanks 
        <fixes issue="625" />
      </action>
      <action dev="mcrtchef" type="add">
        added MCRXSL2JAXBTransformer to generate JAVA Objects via XSLT
      </action>
      <action dev="mcrtchef" type="fix">
        wait for index process to complete on shutdown (lucene &amp; solr)
      </action>
      <action dev="mcrtchef" type="update">
        better statistics for mycore-solr component
      </action>
      <action dev="mcrsherm" type="add">
        added command "delete index part for type {0}" in mycore-solr
      </action>
      <action dev="mcrmeich" type="add">
        added MCRListeningPriorityExecutorService where tasks can be prioritized and listened
      </action>
      <action dev="mcrshofm" type="add">
        MCRSolrSelectProxyServlet supports "wt" parameter of SOLR
      </action>
      <action dev="mcrtchef" type="update">
        use Google guava cache for for MCRObjectIDPool and MCRCache
      </action>
      <action dev="mcrshofm" type="add">
        added support for canvas HTML element in mycore-iview2 (adds rotate function) 
      </action>
      <action dev="mcrmeich" type="update">
        refactored mycore-solr component
      </action>
      <action dev="mcrtchef" type="update">
        bootstraped editor forms of mycore-user2
      </action>
      <action dev="mcrsherm" type="add">
        added Handle support
      </action>
      <action dev="mcrfluet" type="add">
        added mycore-xeditor component
      </action>
      <action dev="mcrfluet" type="fix">
        MCRSearchServlet: on redirect pass XSL.Transformer parameter
      </action>
      <action dev="mcrfluet" type="fix">
        Editor: &lt;hidden var="..." descendants="true" /&gt; may duplicate data when attribute predicates are used in xpath
        <fixes issue="622"/>
      </action>
      <action dev="mcrtchef" type="add">
        MCRObjectTypeStrategy allows "default_class" rules for classifications
      </action>
      <action dev="mcrtchef" type="add">
        Added commands to check consistency of classifications and fix any errors found
        <fixes issue="606"/>
      </action>
      <action dev="mcrtchef" type="fix" due-to="Frank L端tzenkirchen">
        Editing user data produces erroneous links in "Search and manage users"
        <fixes issue="606"/>
      </action>
      <action dev="mcrtchef" type="update">
        MCRLayoutService: buffer output gives about 30% faster downloads and big improvements in browser render speed on fast connections.
      </action>
      <action dev="mcrtchef" type="fix" due-to="Matthias Eichner">
        Password hint is not displayed
        <fixes issue="613"/>
      </action>
      <action dev="mcrtchef" type="fix" due-to="Kathleen Neumann">
         Workflow looses action and type
        <fixes issue="611"/>
      </action>
      <action dev="mcrtchef" type="fix" due-to="Matthias Eichner">
        Categories have wrong left-/right- values when using new classification editor
        <fixes issue="612"/>
      </action>
      <action dev="mcrtchef" type="fix" due-to="Marcus M端ller">
        ClassificationEditor does not work for non super users.
        <fixes issue="609" />
      </action>
      <action dev="mcrtchef" type="add" due-to="Frank L端tzenkirchen">
        added MCRXMLFunctions.encodeURIPath(String path, boolean asciiOnly) to ensure that encoded path contains only ASCII characters.
        <fixes issue="610" />
      </action>
      <action dev="mcrtchef" type="add" due-to="Frank L端tzenkirchen">
        added MCRXMLFunctions.normalizeAbsoluteURL(String) to ensure that a absolute URL is RFC 2396 compliant.
        <fixes issue="607" />
      </action>
      <action dev="mcrtchef" type="add">
        added MCRURNManager.assignURN(String urn, String derivateID, String path)
      </action>
      <action dev="mcrtchef" type="add">
        MCRXSLInfoServlet generates graphs that display call-template calls: XSL.mode=uses
      </action>
      <action dev="mcrtchef" type="update">
        Speed up XSL Transformations: XSL files are checked for changes after
        "MCR.LayoutService.LastModifiedCheckPeriod" ms (default 10000).
      </action>
      <action dev="mcrtchef" type="add">
        added o.m.d.m.MCRMetadataManager.getObjectId(MCRObjectID, long) to retrieve objectID of metadata object for derivate id
      </action>
      <action dev="mcrtchef" type="update">
        improved speed of MCRCache
      </action>
      <action dev="mcrtchef" type="add">
        MCRCache added getIfUpToDate() with lazy determination of last modified timestamp of cache value
      </action>
      <action dev="mcrsherm" type="fix">
        Mets-Editor: order label is not displayed in the mets-editor
        <fixes issue="601" />
      </action>
      <action dev="mcrsherm" type="fix">
        foliation in METS editor does not work on Mac OS
        <fixes issue="595" />
      </action>
      <action dev="mcrfluet" type="update">
        moved results-commandlinequery.xsl to MyCoRe - it is independent of any application
      </action>
      <action dev="mcrsherm" type="fix">
        do not remove URN information if file content is updated
      </action>
      <action dev="mcrtchef" type="remove">
        removed mycore-user component.
        Use "migrate users" from mycore-migration21-22 to transfer your old
        users.
      </action>
      <action dev="mcrtchef" type="fix" due-to="Silvio Hermann">
        fixed multi thread access to SAXBuilder
        <fixes issue="598" />
      </action>
      <action dev="mcrtchef" type="update">
        update to Java 7
      </action>
      <action dev="mcrtchef" type="update">
        update to JDOM 2
      </action>
      <action dev="mcrfluet" type="update">
        moved many stream related classes to new package org.mycore.common.content.stream
      </action>
      <action dev="mcrtchef" type="update">
        updated dependencies
      </action>
      <action dev="mcrtchef" type="remove">
        removed componente mycore-classhandler (old classification browser and editor)
      </action>
    </release>
    <release version="2.1.80" date="2013-01-18" description="Beta 1">
      <action dev="mcrtchef" type="add">
        ?XSL.Style=versions on "/receive/*" URLs displays version information
      </action>
      <action dev="mcrsherm" type="add">
        added mycore-solr to add Apache SOLR support
      </action>
      <action dev="mcrtchef" type="add">
        added MCRIFSCommands to operate on IFS from CLI
      </action>
      <action dev="mcrtchef" type="add">
        added MCRLockServlet to lock metadata update forms
      </action>
      <action dev="mcrmeich" type="add">
        added mycore-classeditor - a new classeditor that uses RESTful web services
      </action>
      <action dev="mcrmeich" type="add">
        added JAX-RS support via Apache Jersey
      </action>
      <action dev="mcrtchef" type="add">
        added mycore-migration21-22 component
      </action>
      <action dev="mcrtchef" type="update">
        MCRLayoutService uses MCRContent and MCRXSLTransformer to pipe XML through a set of XSL templates.
      </action>
      <action dev="mcrtchef" type="add">
        added mycore-wfc (workflow component)
      </action>
      <action dev="mcrfluet" type="add">
        Added MCRContent and MCRContentTransformer classes
      </action>
      <action dev="mcrtchef" type="add">
        added mycore-user2 component
      </action>
      <action dev="mcrtchef" type="fix">
        instances of MCRSession are bound to the first IP address
      </action>
      <action dev="mcrfluet" type="add">
        added org.mycore.datamodel.language.* for code-independent representation for languages used in
        datamodels
      </action>
      <action dev="mcradler" type="update">
        mycore-media: many improvements
      </action>
      <action dev="mcrtchef" type="remove">
        removed MCRFSMapperServlet
      </action>
      <action dev="mcrsherm" type="add">
        added MCRLoggingCommands to change log levels through webcli
      </action>
      <action dev="mcrsherm" type="add">
        added MCRTarServlet to generate tar files
      </action>
      <action dev="mcrmeich" type="update">
        new OAI implementation
      </action>
      <action dev="mcrjkupf" type="remove">
        removed old OAI implementation
      </action>
      <action dev="mcrsherm" type="update">
        mycore-mets: many improvements to mets editor
      </action>
      <action dev="mcrheinz" type="update">
        mycore-iview2: many improvements
      </action>
      <action dev="mcrtchef" type="update">
        update to maven 3
      </action>
      <action dev="mcrtchef" type="fix">
        MyCoRe is fully xlink 1.1 conform
      </action>
      <action dev="mcrkrebs" type="add">
        added many editor forms for different mods document types
      </action>
      <action dev="mcrtchef" type="add">
        added MCRPersistentServlet to circumvent mycore-swf
      </action>
      <action dev="mcrtchef" type="update">
        MCRURIResolver now implements EntityResolver2
      </action>
      <action dev="mcrsherm" type="add">
        all deleted items are stored in table MCRDELETEDITEMS
      </action>
      <action dev="mcrfluet" type="add">
        added MCRExternalProcess to launch command line processes.
      </action>
      <action dev="mcrtchef" type="add">
        added support to generate PDF documents in image viewer.
        see:
        http://www.mycore.de/svn/maven/mets-printer/
      </action>
      <action dev="mcrjkupf" type="update">
        added support to switch XSL-FO implementation
      </action>
      <action dev="mcrtchef" type="remove">
        removed mycore-imaging, mycore-iview and mycore-migration20-21 component
      </action>
      <action dev="mcrfluet" type="add">
        Added templates for share/subscribe buttons. See share.xsl and document metadata details view in
        DocPortal for an example.
      </action>
      <action dev="mcrfluet" type="add">
        Added basket functionality to web front end. A basket collects objects in the user's session.
        Objects can be added, removed, their order can be changed and the basket can be cleared completely.
        There can be different baskets
        for different purposes within the same session.
      </action>
      <action dev="mcrtchef" type="add">
        added MODS datamodel support through mycore-mods
      </action>
    </release>
    <release version="2.1.0" date="2011-05-18" description="LTS">
      <action dev="mcrsteph" type="add">
        new OAI implementationreadded support for operators: &lt;, &lt;=, =&gt;, &gt; on field types text,
        index, identifier
      </action>
      <action dev="mcrsherm" type="fix">
        MCRZipServlet does not check access rights
        <fixes issue="3301497" />
      </action>
      <action dev="mcrtchef" type="fix">
        Do not allow metadata objects with int id "0" to be saved in store
      </action>
      <action dev="mcrsherm" type="fix">
        Href attr. in file section of a mets document is url encoded
        <fixes issue="3301079" />
      </action>
      <action dev="mcrsherm" type="add">
        METS-editor: validate generated METS document
      </action>
      <action dev="mcrsherm" type="fix">
        METS-editor:decoding label and path to image
        <fixes issue="3300479" />
      </action>
      <action dev="mcrmeich" type="add">
        MCRMETSGenerator: do not return jdom Document but METS document from interface
      </action>
      <action dev="mcrvuchi" type="add">
        add create category method to category DAO
      </action>
      <action dev="mcrtchef" type="fix">
        404 Error lead to infinite loop on startup
        <fixes issue="3297504" />
      </action>
      <action dev="mcrtchef" type="update">
        removed web directory under modules/iview2
        subfolders are moved to modules/iview2
      </action>
      <action dev="mcrfluet" type="update">
        Always trim() input coming from editor form.
        That means one can not input text with leading or
        trailing whitespace any more.
      </action>
      <action dev="mcrsteph" type="add">
        new OAI implementation
      </action>
      <action dev="mcrheinz" type="update">
        refactored iview2:
        - jQuery Eventing is used for all JS code
        - Added component for dynamic change of translations
        - Capsulation of Functions
      </action>
      <action dev="mcrjkupf" type="fix">
        Wrong MCRApplicationBaseURL
        <fixes issue="328566" />
      </action>
      <action dev="mcrvuchi" type="add">
        add Method addParent(String), addParent(MCRObjectID) to MCRObjectStructure
      </action>
      <action dev="mcrkrebs" type="add">
        added NISS implementation based on UUID random generator
      </action>
      <action dev="mcrtchef" type="add">
        added mycore-mods component
        renamed mycore-metsmods to mycore-mets
      </action>
      <action dev="mcrtchef" type="fix">
        High load due to upload?
        try to get rid of infinitive loop on HashMap.get()
        <fixes issue="3266973" />
      </action>
      <action dev="mcrfluet" type="fix">
        Unexpected result after search about index of documents
        The "contains" mode in IndexBrowser is now mapped to the "contains" query
        operator.
        <fixes issue="2799965" />
      </action>
      <action dev="mcrtchef" type="fix">
        lucene.store.AlreadyClosedException: this IndexReader is closed
        <fixes issue="3204324" />
      </action>
      <action dev="mcrfluet" type="update">
        renamed IFS classes according to mycore class naming standard
      </action>
      <action dev="mcrtchef" type="fix">
        org.hibernate.SessionException: Session is closed!
        <fixes issue="3198245" />
      </action>
      <action dev="mcrsherm" type="update">
        removed MCRPropertyFunctions
      </action>
      <action dev="mcrkrebs" type="fix">
        removed inclusion of non existing files info.gif and sound.js
        <fixes issue="3252038" />
      </action>
      <action dev="mcrsherm" type="update">
        renamed URN and METS classes according to mycore class naming standard
      </action>
      <action dev="mcrheinz" type="fix">
        Clicking on empty Folder in Iview-Chapter caused site reload
        <fixes issue="3194981" />
      </action>
      <action dev="mcrmeich" type="add">
        improved MyCoReWebPageProvider to handle real xml data
        added updateMeta method to update the meta
        element of a webpage
      </action>
      <action dev="mcrtchef" type="add">
        added method isInCategory to quickly determine if a object is in a specific category
      </action>
      <action dev="mcrshofm" type="fix">
        fixed multiselect in METS - editor
      </action>
      <action dev="mcrfluet" type="update">
        refactored mycore CLI
      </action>
      <action dev="mcradler" type="add">
        added mycore-media component
      </action>
    </release>
    <release version="2.0.94" date="2011-03-22" description="Beta 4">
      <action dev="mcrfluet" type="add">
        Added functionality to disable editing of a textfield and set it read-only with @disabled="true", same as for list elements.
      </action>
      <action dev="mcrtchef" type="add">
        added MCRLocalServlet to allow multi lingual javascript applications
      </action>
      <action dev="mcrtchef" type="update">
        moved all webcli classes in package org.mycore.webcli
      </action>
      <action dev="mcrtchef" type="update">
        added option to initialize all hits of a lucene query: MCR.Searcher.{ID}.initializeResult=true
      </action>
      <action dev="mcrsteph" type="update">
        enable storing of fields of type long and date, so they can be use for sorting
      </action>
      <action dev="mcrmeich" type="add">
        added two command 'list' and 'restore' to handle revision of a metadata object
      </action>
      <action dev="mcrsherm" type="add">
        added METS editor
      </action>
      <action dev="mcrvuchi" type="update">
        adding manager class for creating, get, removing store in IFS2. MCRStore is no longer
        responsible for these operations.
      </action>
      <action dev="mcrtchef" type="update">
        merged mycore-useradmin and mycore-userlogin component into mycore-user
        moved user system related code from mycore-base to mycore-user
      </action>
      <action dev="mcrtchef" type="update">
        Separate ACL system from User system
        MCRUserMagr.login() now actually logs a (MCR) user in
        Guest User is not physically stored in database anymore
        A default group for new users can be configured via property (defaults to "users"):
        MCR.Users.DefaultGroupName
      </action>
      <action dev="mcrckoch" type="add">
        Added a new Toolbar-API to modify ImageViewer toolbar.
      </action>
      <action dev="mcrheinz" type="add">
        ImageViewer uses structure information of METS-files for "chapter overview" using
        - jsTree (http://www.jstree.com/)
        - fg-menu 3.0 (http://www.filamentgroup.com/lab/jquery_ipod_style_and_flyout_menus/)
      </action>
    </release>
    <release version="2.0.93" date="2010-11-22" description="Beta 3">
      <action dev="mcrjkupf" type="add">
        Add a copy function for MCRObjects in the Simple Workflow.
      </action>
      <action dev="mcrjkupf" type="update">
        Add the id-attribute in MCRIndexBrowser XML output for ranges to get the object data directly over Xalan extensions.
      </action>
      <action dev="mcrfluet" type="add">
        Added new built-in command "get uri {uri} to file {path}" to test or use MCRURIResolver
      </action>
      <action dev="mcrfluet" type="add">
        Added new generic search field "category" which contains "classificationID:categoryID" to search
        for any category in any classification
      </action>
      <action dev="mcrfluet" type="add">
        MCRMailer now acts as a servlet to simplify sending e-mail after editor form submission. See
        workshop.xml and workshop.xsl in DocPortal as an example.
      </action>
      <action dev="mcrsherm" type="fix">
        Renamed property URN.Enabled.Objects to MCR.URN.Enabled.Objects
      </action>
      <action dev="mcrsherm" type="remove">
        Removed class org.mycore.datamodel.ifs.MCRContentIndexEventHandler
        Functionality is preserved by
        command "repair derivate search of ID {0}".
      </action>
      <action dev="mcrtchef" type="add">
        Added xsl templates "derivateView" and "derivateLinkView" as an adapter for IView and IView2
      </action>
      <action dev="mcrtchef" type="add">
        Added MCRApplicationModuleSelector to detect mycore application modules.
      </action>
      <action dev="mcrtchef" type="fix">
        Fixed export and re-import of users on systems with encrypted passwords (default case)
        If you have
        XML files with unencrypted passwords encrypt them with "encrypt passwords in user xml file {0} to file {1}".
        See "create.users"
        target in docportal module as example.
      </action>
      <action dev="mcrtchef" type="update">
        mycore-migration20-21 classes are now in package org.mycore.migration20_21
      </action>
    </release>
    <release version="2.0.92" date="2010-10-08" description="Beta 2">
      <action dev="mcrtchef" type="fix">
        Fixed several bugs.
        <fixes issue="3082248" />
        <fixes issue="3078448" />
      </action>
      <action dev="mcrtchef" type="fix">
        Web services handle hibernate transactions through MCRSession now.
        This should resolve any
        transaction related problems with web services.
      </action>
      <action dev="mcrrsteph" type="fix">
        Handle empty modify date fields in "migrate xmltable" command.
      </action>
      <action dev="mcrtchef" type="add">
        Added maven projects "remote-adapter" and "iview2-tile-client" to "iview2-addons" module as part of
        the MyCoRe build process.
      </action>
      <action dev="mcrtchef" type="update">
        mycore-iview2 classes are now in package org.mycore.iview2
      </action>
      <action dev="mcrtchef" type="add">
        Provided antlib.xml to define ant tasks. This requires an update in ant build files.
      </action>
      <action dev="mcrtchef" type="update">
        Moved MCRConfigurationTask to package org.mycore.buildtools.anttasks. This requires an update in
        ant build files.
      </action>
      <action dev="mcrjkupf" type="add">
        Added XALAN-Extension in MCRXMLFunctions to get the sources of a MCRMetaLinkID for a given
        MCRObjectID.
      </action>
      <action dev="mcrtchef" type="fix">
        Fixed deadlock in MCRTilingQueue.
      </action>
      <action dev="mcrtchef" type="fix" due-to="Annedore Hainsch, hfm-weimar">
        Fixed inheritance of metadata if more than one metadata is inherited.
      </action>
      <action dev="mcrfluet" type="add">
        Added mycore-oai component.
      </action>
      <action dev="mcrtchef" type="add">
        Added validation messages to datamodel classes to see in the log why the validation had failed.
      </action>
      <action dev="mcrtchef" type="add">
        Added Changelog, Changes, Developer Activity and File Activity Reports
      </action>
      <action dev="mcrtchef" type="update">
        Renamed artifacts mycore-parent to mycore and mycore to mycore-parent.
      </action>
      <action dev="mcrtchef" type="update">
        Datamodel classes like MCRObject and MCRDerivate are just data containers and do not any
        persistence operation.
        This is done by MCRMetadataManager.
      </action>
      <action dev="mcrtchef" type="update">
        Renamed MCRXMLTableManager to MCRXMLMetadataManager and MCRXMLTableEventHandler to
        MCRXMLMetadataEventHandler.
      </action>
      <action dev="mcrtchef" type="fix">
        Refactored MCRObjectID to be immutable.
      </action>
    </release>

    <release version="2.0.91" date="2010-09-09" description="Beta 1">
      <action dev="mcrtchef" type="update">
        Tagged first beta version of MyCoRe 2.1
      </action>
    </release>
  </body>
</document>

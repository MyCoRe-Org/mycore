<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">

<hibernate-mapping package="org.mycore.user2">
  <class name="MCRUser">
    <cache usage="nonstrict-read-write" />
    <id name="internalID" access="field">
      <generator class="identity" />
    </id>

    <natural-id>
      <property name="userName" length="128" />
      <property name="realmID" access="field" length="128" />
    </natural-id>
    <property name="hashType" not-null="false">
      <type name="org.mycore.backend.hibernate.MCRGenericEnumUserType">
        <param name="enumClass">org.mycore.user2.MCRPasswordHashType</param>
      </type>
    </property>
    <property name="password" />
    <property name="salt" />
    <property name="realName" />
    <property name="eMail" access="field" />
    <property name="hint" />
    <property name="lastLogin" access="field" />
    <property name="validUntil" access="field" />
    <property name="locked" not-null="false"/>
    <many-to-one name="owner" class="MCRUser" not-null="false" />
    <map name="attributes" table="MCRUserAttr" fetch="join" lazy="false" cascade="">
      <key column="id" />
      <map-key column="name" type="string" />
      <element column="value" type="string" />
    </map>
  </class>
</hibernate-mapping>